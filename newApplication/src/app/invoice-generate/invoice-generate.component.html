<!-- <nav class="navbar sticky-top navbar-light bg-light">
    <a class="navbar-brand" href="#">Sticky top</a>
</nav> -->
<div class="container mt-3">
    <form [formGroup]="invoiceForm">
        <div class="col-xs-12 col-sm-6 col-md-3">
            <div class="form-group">
                <label>Invoice number</label>
                <input type="text" class="form-control" formControlName="invoiceNumber">
            </div>
        </div>
        <div formGroupName="shipping">
            <div class="col-sm-12">

                <div class="row">

                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" class="form-control" formControlName="name">
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" class="form-control" formControlName="address">
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>City</label>
                            <input type="text" class="form-control" formControlName="city">
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>State</label>
                            <input type="text" class="form-control" formControlName="state">
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Country</label>
                            <input type="text" class="form-control" formControlName="country">
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Postal Code</label>
                            <input type="text" class="form-control" formControlName="postalCode">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div formGroupName="invoiceDetail">
            <div class="col-sm-12">

                <div class="row">
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Product Name</label>
                            <!-- <input type="email" class="form-control" formControlName="firstName" placeholder="First Name"> -->
                            <select class="form-control" formControlName="productName" id="exampleFormControlSelect1" (change)="selectedProduct($event.target.value)">
                <option value="">-please select product-</option>
                <option *ngFor="let product of ProductData" value="{{product.id}}">{{product.name}}</option>
              </select>
                        </div>
                    </div>

                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Product Code</label>
                            <input type="text" class="form-control" formControlName="productCode" readonly>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Product Quantity</label>
                            <input type="number" class="form-control" formControlName="quantity" (change)="productQuantity()">
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Product Price</label>
                            <input type="number" class="form-control" formControlName="price" readonly>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3">
                        <div class="form-group">
                            <label>Total Price</label>
                            <input type="number" class="form-control" formControlName="totalPrice" readonly>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" (click)="submitBtn()">Submit</button>
                <button type="submit" class="btn btn-primary" (click)="saveInvoice()">Save</button>
            </div>
        </div>
        <div class="col-12">
            <div class="row">
                <div class="col-sm-12">
                    <table class="table table-hover">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">Sr No</th>
                                <th scope="col">Product Name</th>
                                <th scope="col">Product Price</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Total</th>
                                <th scope="col">action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngIf="submittedData.length">
                                <tr *ngFor='let data of submittedData; let i = index'>
                                    <td>{{i+1}}</td>
                                    <td>{{data.productName}}</td>
                                    <td>{{data.price}}</td>
                                    <td>{{data.quantity}}</td>
                                    <td>{{data.totalPrice}}</td>
                                    <td>
                                        <span (click)="editInvoice(data, i)">Edit</span>/
                                        <span (click)="deleteInvoice(data, i)">Delete</span>

                                    </td>
                                </tr>
                            </ng-container>
                            <ng-container *ngIf="!submittedData.length">
                                <tr>
                                    <td colspan="6" style="text-align: center;"> No data </td>
                                </tr>
                            </ng-container>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </form>
</div>